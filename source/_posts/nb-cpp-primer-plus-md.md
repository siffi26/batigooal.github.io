---
title: notebook for C++ Primer Plus - Part I
date: 2018-09-26 20:06:36
tags:
---

# 第三章 处理数据
本章将要学习的内容包括：
+ C++变量命名的规则
+ C++内置整型：unsigned long, long, unsigned int, int, unsigned short, short, char, unsigned char, signed char, bool
+ C++11新增类型：unsigned long long, long long
+ 表示各种整型的系统限制的climits文件
+ 各种整型的数字字面值（常量）
+ 使用const限定符来创建符号常量
+ C++内置的浮点类型：float, double, long double
+ 表示各种浮点类型的系统限制的cfloat文件
+ 各种浮点类型的数字字面值
+ C++的算术运算符
+ 自动类型转换
+ 强制类型转换

内置的C++类型可以分为两组：fundamental types（基本类型）和compound types（复合类型）。本章介绍的是基本类型中的整型和浮点型，以及它们的一些变形。然后介绍如何在C++中进行算术运算。最后，介绍了C++如何将一种类型转换成另一种类型。

## 3.1 简单变量

### 3.1.1 变量命名
一些简单的C++命名规则：
+ 使用字母、数字以及_
+ 首字符不能是数字
+ 区分大小写
+ 不能使用C++的关键字
+ 以两个下划线或者下划线和大写字母开头的名称被保留给编译器及其使用的资源使用；以一个下划线开头的名称被保留用作全局标识符
+ C++本身对名称长度无限制

_time_stop或者_Donut这样的命名不会产生编译错误，只是会得到不确定的结果。这样的命名是被保留用于实现的。

### 3.1.2 整型
通常，描述一个整型所使用的内存大小的词是"width"

### 3.1.3 short, int, long, long long四种整型
short至少16位；int至少和short一样大；long至少32位，且至少和int一样大；long long至少64位，且至少和long一样大

+ Bits（位）和Bytes（字节）
+ 一个8位的单元能够表示0-255或者-128到127
+ 一个字节通常表示8位的内存单元

可以使用sizeof函数读取一个类型或者一个变量的size，单位是字节。

#### 1. sizeof运算符和climits头文件
```cpp
cout << "int is " << sizeof(int) << " bytes.\n";
cout << "int is " << sizeof n_short << " bytes.\n";
```

climits头文件使用的情况比较少，主要是在里面可以修改一些预设的类型大小

#### 2. 初始化

### 3.1.4 无符号类型

### 3.1.5 选择一个整型
通常，int被设置为对目标计算机而言最为“自然”的长度，没有非常有说服力的理由来选择其他类型的话，就应该使用int。

如果变量表示的值不可能为负，那么就使用无符号类型，这样变量可以表示更大的范围。

即使系统中int是32位的，在知道变量可能表示的整数值大于16位整数的最大可能值的话，那么变量也应该使用long，如果要存储的值超过20亿，那么需要使用long long。

如果内存有限的话，short比int更能节省内存；如果只需要一个字节，那么可以使用char。

### 3.1.6 整型字面值
头文件iostream提供了endl控制符，用于指示cout重起一行

```cpp
cout << hex;
```

上面这段代码不会打印任何信息，它会改变cout显示整型变量的方式。hex是一个信息，告诉cout如何改变。同时，hex是std命名空间中的一部分，所以不能用hex作为变量名称。当然，如果你不使用using，而是用std::cout, std::endl, std::hex这种方式写代码的话，那么你可以用hex作为变量名称。

### 3.1.7 C++如何确定常量的类型
C++会将整型常量存为int类型，除非有以下两个理由才会去存为其他类型。一个理由在于你是否使用了特殊后缀表示特定类型，另一个理由在于是否这个值大于int所能表示的范围。

l或者L后缀放在整型数字后面表示这个整型常量是long常量，u或者U后缀表示unsigned int常量，ul表示unsigned long常量

在存储的空间方面，十六进制由于通常用来表示内存地址，所以基本上是unsigned的，所以系统通常会将十六进制的变量保存为unsigned int类型。

### 3.1.8 char类型：字符和小整数
char类型是另一种整型类型，它保证足够的空间用来表示基本符号的完整排列，包括所有字母、数字和标点符号等。

在C++中书写字符字面值的方法：将字符用单引号''括起来。

```cpp
cout << '$';
```

上面语句将打印字符$的ASCII码；下面的语句就会打印字符$

```cpp
cout.put('$');
```

三种将光标移动到下一行开头的方法：
```cpp
cout << endl;
cout << '\n';
cout << "\n";
```

介绍了几种不太常见的数据类型：wcha_t, char16_t, char32_t

### 3.1.9 bool类型
bool类型变量的值要么是true，要么是false

## 3.2 const限定符
const初始化一个常量后，不能随意更改这个变量的值。一种常用的做法是将命名的首字母大写用来提醒这个变量是一个常量。使用#define创建常量的时候通常会将变量所有字母都大写。const优于define的地方在于它可以指定数据类型，同时也可以使用namespace将定义限制在特定的函数或文件中，另外const可以用于更复杂的数据类型，比如数组或者结构中。

## 3.3 浮点数
计算机存储浮点数是包括了两个部分，一个部分表示值，另一个部分用于对值进行放大或缩小。总之，浮点数可以表示小数值、非常大和非常小的值。

### 3.3.1 书写浮点数
C++有两种书写浮点数的方法，一种是使用标准的小数点；另一种是E表示法。后一种方法最适合于非常大和非常小的数。

### 3.3.2 浮点类型
浮点类型有三种：float, double和long double。float要求32个有效位，double要求64个有效位，且不少于float，long double和double一样多。

### 3.3.3 浮点常量
系统会将浮点常量存为double类型，如果希望保存为float型，需要使用f或者F的后缀，使用l或者L后缀可以保存为long double类型。

### 3.3.4 浮点数的优缺点
浮点数可以表示两个整型之间的数，能表示的数值范围更大。但是浮点数运算速度慢，精度低。

## 3.4 C++算术运算符
